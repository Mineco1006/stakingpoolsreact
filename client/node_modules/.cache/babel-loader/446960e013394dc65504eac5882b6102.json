{"ast":null,"code":"import _classCallCheck from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import Web3 from'web3';import QuarkChain from'quarkchain-web3';import React from'react';import axios from'axios';import{ABIinterface,roiABIinterface,poolROIContractAddress,poolContractAddress,fullShardKey,jrpcUrl,standardShardKeys}from'./config.js';import{ToastContainer,toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var web3=new Web3();QuarkChain.injectWeb3(web3,jrpcUrl);var Navbar=/*#__PURE__*/function(_React$Component){_inherits(Navbar,_React$Component);var _super=_createSuper(Navbar);function Navbar(){_classCallCheck(this,Navbar);return _super.apply(this,arguments);}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"QKC Staking Pools\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark\",style:{marginBottom:'25px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"https://qkcstakingpools.xyz/\",children:\"QuarkChain Staking Pools\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"https://t.me/joinchat/ar58V6PuG5tkM2Y0\",target:\"_blank\",rel:\"noreferrer\",children:\"Telegram\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"https://plakolm1006.medium.com/\",target:\"_blank\",rel:\"noreferrer\",children:\"News\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"https://twitter.com/Quark_Chain\",target:\"_blank\",rel:\"noreferrer\",children:\"Twitter\"})})]})})]})});}}]);return Navbar;}(React.Component);var PoolInterface=/*#__PURE__*/function(_React$Component2){_inherits(PoolInterface,_React$Component2);var _super2=_createSuper(PoolInterface);function PoolInterface(){var _this;_classCallCheck(this,PoolInterface);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super2.call.apply(_super2,[this].concat(args));_this.state={balance:'',roi:'',minStake:'',poolStatus:''};return _this;}_createClass(PoolInterface,[{key:\"getContractInformation\",value:function getContractInformation(){var roiContract=web3.qkc.contract(roiABIinterface).at(this.props.poolROIAddress);var poolContract=web3.qkc.contract(ABIinterface).at(this.props.poolAddress);var minerFee;var poolFee;var v1;var v2;var v3;var v4;var v5;var v6;var v7;web3.qkc.getBalance(this.props.poolAddress,function(err,res){v1=Number((res/Math.pow(10,18)).toFixed(2)).toLocaleString()+\" QKC\";this.setState({balance:v1});}.bind(this));poolContract.minerFee.call(function(err,res){minerFee=res/10000;v2=res/100+\"%\";});poolContract.poolFee.call(function(err,res){poolFee=res/10000;v3=res/100+\"%\";});poolContract.minStake.call(function(err,res){v4=Number((res/Math.pow(10,18)).toFixed(2)).toLocaleString()+\" QKC\";this.setState({minStake:v4});}.bind(this));poolContract.isClosed.call(function(err,res){if(res==false){v5=\"Open\";}if(res==true){v5=\"Closed\";}this.setState({poolStatus:v5});}.bind(this));roiContract.calculateROI(1,{},function(err,res){var result=(res/Math.pow(10,16)*(1-(minerFee+poolFee))).toFixed(3);if(result<=3){v6=result+\"% / \"+(result*12).toFixed(1)+\"%\";}else{v6=\"1.5-2.2% / 18-26.4%\";}this.setState({roi:v6});}.bind(this));}},{key:\"componentDidMount\",value:function componentDidMount(props){this.getContractInformation();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"table\",{className:\"pool\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{className:\"rowcolour1\",href:\"https://mainnet.quarkchain.io/address/\"+this.props.poolAddress,children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"3\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://mainnet.quarkchain.io/address/\"+this.props.poolAddress,target:\"_blank\",className:\"href\",children:[\"Chain \",this.props.index,\" Pool\"]})})})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Estimated ROI monthly/annual\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.roi})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Total Stakes\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.balance})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Minimum Stake\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.minStake})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Pool Status\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.poolStatus})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Miner\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.props.miner})]})]}),/*#__PURE__*/_jsx(PoolUserInterface,{poolAddress:this.props.poolAddress,web3:this.props.web3,index:this.props.index}),/*#__PURE__*/_jsx(PoolAllocateAndWithdraw,{poolAddress:this.props.poolAddress,web3:this.props.web3,index:this.props.index})]});}}]);return PoolInterface;}(React.Component);var PoolUserInterface=/*#__PURE__*/function(_React$Component3){_inherits(PoolUserInterface,_React$Component3);var _super3=_createSuper(PoolUserInterface);function PoolUserInterface(){var _this2;_classCallCheck(this,PoolUserInterface);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super3.call.apply(_super3,[this].concat(args));_this2.state={userAddress:'',stake:''};return _this2;}_createClass(PoolUserInterface,[{key:\"getUserStake\",value:function getUserStake(){var poolContract=web3.qkc.contract(ABIinterface).at(this.props.poolAddress);var stake;poolContract.getStakesWithRewards(this.state.userAddress,{from:this.state.userAddress},function(err,res){stake=Number((res/Math.pow(10,18)).toFixed(2)).toLocaleString()+\" QKC\";this.setState({stake:stake});}.bind(this));}},{key:\"componentDidMount\",value:function componentDidMount(props){if(window.web3){this.props.web3.eth.getAccounts().then(function(accounts){this.setState({userAddress:accounts[0]});this.getUserStake();}.bind(this));}}},{key:\"render\",value:function render(){if(window.web3){return/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Your Address\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.userAddress+standardShardKeys[this.props.index]})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"Your Chain \",this.props.index,\" Pool Stake\"]}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.stake})]})]});}else{return/*#__PURE__*/_jsx(\"tr\",{className:\"rowcolour1\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:\"Please enable your web3 wallet to check your stake\"})});}}}]);return PoolUserInterface;}(React.Component);var PoolAllocateAndWithdraw=/*#__PURE__*/function(_React$Component4){_inherits(PoolAllocateAndWithdraw,_React$Component4);var _super4=_createSuper(PoolAllocateAndWithdraw);function PoolAllocateAndWithdraw(){var _this3;_classCallCheck(this,PoolAllocateAndWithdraw);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this3=_super4.call.apply(_super4,[this].concat(args));_this3.state={add:'',withdraw:'',userAddress:'',poolContract:'',userBalance:''};return _this3;}_createClass(PoolAllocateAndWithdraw,[{key:\"componentDidMount\",value:function componentDidMount(props){if(window.web3){this.props.web3.eth.getAccounts().then(function(accounts){this.setState({userAddress:accounts[0]});this.props.web3.qkc.getBalance(this.state.userAddress+standardShardKeys[this.props.index],function(err,res){var result=Number((res/Math.pow(10,18)).toFixed(2)).toLocaleString()+\" QKC\";this.setState({userBalance:result});}.bind(this));}.bind(this));this.setState({poolContract:this.props.web3.qkc.contract(ABIinterface).at(this.props.poolAddress)});}}},{key:\"addStakeTx\",value:function addStakeTx(){//called when \"Add Stake\" button is clicked\nvar txParams={gasPrice:2e9,gas:350000,to:QuarkChain.getEthAddressFromQkcAddress(this.props.poolAddress),value:this.state.add*1e18,fromFullShardKey:QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),toFullShardKey:QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),networkId:1};this.props.web3.qkc.sendTransaction(txParams,function(err,res){if(res!=\"0x000000000000000000000000000000000000000000000000000000000000000000000000\"){toast.success(function(_ref){var closeToast=_ref.closeToast;return/*#__PURE__*/_jsxs(\"div\",{children:[\"Your \",/*#__PURE__*/_jsx(\"a\",{href:\"https://mainnet.quarkchain.io/tx/\".concat(res),target:\"_blank\",children:\"transaction\"}),\" was sent successfully\"]});});}else{toast.warn(\"Seems that your transaction has been declined\");}});}},{key:\"withdrawStake\",value:function withdrawStake(){//called when \"Withdraw\" button is clicked\nvar txParams={gasPrice:2e9,gas:350000,fromFullShardKey:QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),toFullShardKey:QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress)};this.state.poolContract.withdrawStakes(this.state.withdraw,txParams).then(function(err,res){if(res!=\"0x000000000000000000000000000000000000000000000000000000000000000000000000\"){toast.success(function(_ref2){var closeToast=_ref2.closeToast;return/*#__PURE__*/_jsxs(\"div\",{children:[\"Your \",/*#__PURE__*/_jsx(\"a\",{href:\"https://mainnet.quarkchain.io/tx/\".concat(res),target:\"_blank\",children:\"withdrawal\"}),\" was sent successfully\"]});});}else{toast.warn(\"Seems that your transaction has been declined\");}});}},{key:\"handleAddChange\",value:function handleAddChange(event){this.setState({add:event.target.value});}},{key:\"handleWithdrawChange\",value:function handleWithdrawChange(event){this.setState({withdraw:event.target.value});}},{key:\"render\",value:function render(){var _this4=this;if(window.ethereum){return/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"Your Chain \",this.props.index,\" Balance\"]}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.userBalance})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Deposit\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"inp\",type:\"number\",min:\"0\",placeholder:\"e.g. 50000\",value:this.state.add,onChange:function onChange(e){return _this4.handleAddChange(e);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"but\",onClick:this.addStakeTx.bind(this),children:\"Deposit\"})})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Withdraw\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"inp\",type:\"number\",min:\"0\",placeholder:\"e.g. 50000\",value:this.state.withdraw,onChange:function onChange(e){return _this4.handleWithdrawChange(e);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"but\",onClick:this.withdrawStake.bind(this),children:\"Withdraw\"})})]})]});}else{return/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tfoot\",{children:\"Please make sure that you have a web3 wallet installed in your browser\"})});}}}]);return PoolAllocateAndWithdraw;}(React.Component);export{PoolInterface,Navbar};","map":{"version":3,"sources":["C:/Users/Nico/Documents/GitHub/stakingpoolsreact/src/components/components.js"],"names":["Web3","QuarkChain","React","axios","ABIinterface","roiABIinterface","poolROIContractAddress","poolContractAddress","fullShardKey","jrpcUrl","standardShardKeys","ToastContainer","toast","web3","injectWeb3","Navbar","document","title","marginBottom","Component","PoolInterface","state","balance","roi","minStake","poolStatus","roiContract","qkc","contract","at","props","poolROIAddress","poolContract","poolAddress","minerFee","poolFee","v1","v2","v3","v4","v5","v6","v7","getBalance","err","res","Number","toFixed","toLocaleString","setState","bind","call","isClosed","calculateROI","result","getContractInformation","index","miner","PoolUserInterface","userAddress","stake","getStakesWithRewards","from","window","eth","getAccounts","then","accounts","getUserStake","PoolAllocateAndWithdraw","add","withdraw","userBalance","txParams","gasPrice","gas","to","getEthAddressFromQkcAddress","value","fromFullShardKey","getFullShardKeyFromQkcAddress","toFullShardKey","networkId","sendTransaction","success","closeToast","warn","withdrawStakes","event","target","ethereum","e","handleAddChange","addStakeTx","handleWithdrawChange","withdrawStake"],"mappings":"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","sourcesContent":["import Web3 from 'web3';\r\nimport QuarkChain from 'quarkchain-web3';\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport {ABIinterface, roiABIinterface, poolROIContractAddress, poolContractAddress, fullShardKey, jrpcUrl, standardShardKeys} from './config.js'\r\nimport {ToastContainer, toast} from 'react-toastify';\r\n\r\nlet web3 = new Web3();\r\nQuarkChain.injectWeb3(web3, jrpcUrl)\r\n\r\nclass Navbar extends React.Component {\r\n  componentDidMount() {\r\n    document.title = \"QKC Staking Pools\"\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\" style={{marginBottom:'25px'}}>\r\n          <div className=\"container-fluid\">\r\n\r\n            <a className=\"navbar-brand\" href=\"https://qkcstakingpools.xyz/\">QuarkChain Staking Pools</a>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            \r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n              <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"https://t.me/joinchat/ar58V6PuG5tkM2Y0\" target=\"_blank\" rel=\"noreferrer\">Telegram</a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"https://plakolm1006.medium.com/\" target=\"_blank\" rel=\"noreferrer\">News</a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"https://twitter.com/Quark_Chain\" target=\"_blank\" rel=\"noreferrer\">Twitter</a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n    )\r\n  }\r\n}\r\n\r\nclass PoolInterface extends React.Component {\r\n  // poolAddress, poolROIAddress, index, miner, web3\r\n\r\n  state = {\r\n    balance : '',\r\n    roi : '',\r\n    minStake : '',\r\n    poolStatus : ''\r\n  }\r\n\r\n  getContractInformation() {\r\n    const roiContract = web3.qkc.contract(roiABIinterface).at(this.props.poolROIAddress);\r\n    const poolContract = web3.qkc.contract(ABIinterface).at(this.props.poolAddress);\r\n    let minerFee;\r\n    let poolFee;\r\n  \r\n    let v1;\r\n    let v2;\r\n    let v3;\r\n    let v4;\r\n    let v5;\r\n    let v6;\r\n    let v7;\r\n  \r\n    web3.qkc.getBalance(this.props.poolAddress, function(err, res) {\r\n      v1 = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n      this.setState({balance: v1})\r\n    }.bind(this));\r\n  \r\n    poolContract.minerFee.call(function(err, res){\r\n      minerFee = res/10000\r\n      v2 = res/100+\"%\";\r\n    });\r\n    poolContract.poolFee.call(function(err, res){\r\n      poolFee = res/10000\r\n      v3 = res/100+\"%\";\r\n    });\r\n\r\n    poolContract.minStake.call(function(err, res){\r\n      v4 = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n      this.setState({minStake: v4})\r\n    }.bind(this));\r\n  \r\n    poolContract.isClosed.call(function(err, res){\r\n        if(res == false){\r\n          v5 = \"Open\";\r\n        }\r\n        if(res == true){  \r\n          v5 = \"Closed\";\r\n        }\r\n        this.setState({poolStatus: v5})\r\n    }.bind(this));\r\n  \r\n    roiContract.calculateROI(1, {}, function(err, res) {\r\n      let result = ((res/10**16)*(1-(minerFee + poolFee))).toFixed(3);\r\n      if(result <= 3){\r\n        v6 = result + \"% / \" + (result*12).toFixed(1) + \"%\";\r\n      } else {\r\n        v6 = \"1.5-2.2% / 18-26.4%\";\r\n      }\r\n      this.setState({roi: v6});\r\n    }.bind(this));\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    this.getContractInformation()\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <table className=\"pool\">\r\n        <thead>\r\n          <tr className=\"rowcolour1\" href={\"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress}>\r\n                <th colSpan=\"3\">\r\n                  <a href={\"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress} target=\"_blank\" className=\"href\">Chain {this.props.index} Pool</a>\r\n                </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr className=\"rowcolour2\">\r\n                <td>Estimated ROI monthly/annual</td>\r\n                <td colSpan=\"2\">{this.state.roi}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour1\">\r\n                <td>Total Stakes</td>\r\n                <td colSpan=\"2\">{this.state.balance}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour2\">\r\n                <td>Minimum Stake</td>\r\n                <td colSpan=\"2\">{this.state.minStake}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour1\">\r\n                <td>Pool Status</td>\r\n                <td colSpan=\"2\">{this.state.poolStatus}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour2\">\r\n              <td>Miner</td>\r\n              <td colSpan=\"2\">{this.props.miner}</td>\r\n            </tr>\r\n        </tbody>\r\n        <PoolUserInterface poolAddress={this.props.poolAddress} web3={this.props.web3} index={this.props.index}/>\r\n        <PoolAllocateAndWithdraw poolAddress={this.props.poolAddress} web3={this.props.web3} index={this.props.index}/>\r\n      </table>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nclass PoolUserInterface extends React.Component {\r\n  //poolAddress, web3, index\r\n\r\n  state={\r\n    userAddress: '',\r\n    stake: ''\r\n  }\r\n\r\n  getUserStake() {\r\n    const poolContract = web3.qkc.contract(ABIinterface).at(this.props.poolAddress);\r\n    let stake\r\n  \r\n    poolContract.getStakesWithRewards(this.state.userAddress, {from: this.state.userAddress}, function(err, res){\r\n      stake = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\"\r\n      this.setState({stake: stake})\r\n    }.bind(this));\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    if(window.web3) {\r\n      this.props.web3.eth.getAccounts().then(function(accounts) {\r\n      this.setState({userAddress: accounts[0]})\r\n      this.getUserStake()\r\n    }.bind(this))\r\n\r\n    \r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(window.web3){\r\n      return (\r\n        <tbody>\r\n          <tr className=\"rowcolour1\">\r\n            <td>\r\n              Your Address\r\n            </td>\r\n            <td colSpan=\"2\">\r\n              {this.state.userAddress + standardShardKeys[this.props.index]}\r\n            </td>\r\n          </tr>\r\n          <tr className=\"rowcolour2\">\r\n            <td>\r\n              Your Chain {this.props.index} Pool Stake\r\n            </td>\r\n            <td colSpan=\"2\">\r\n              {this.state.stake}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n        \r\n    )\r\n    }else{\r\n      return (\r\n          <tr className=\"rowcolour1\">\r\n            <td colSpan=\"2\">\r\n              Please enable your web3 wallet to check your stake\r\n            </td>\r\n          </tr>\r\n      )\r\n    }\r\n    \r\n  }\r\n}\r\n\r\n\r\n\r\nclass PoolAllocateAndWithdraw extends React.Component {\r\n  //poolAddress, web3, index\r\n\r\n  state = {\r\n    add: '',\r\n    withdraw: '',\r\n    userAddress: '',\r\n    poolContract: '',\r\n    userBalance: ''\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    if(window.web3) {\r\n      this.props.web3.eth.getAccounts().then(function(accounts) {\r\n      this.setState({userAddress: accounts[0]});\r\n      this.props.web3.qkc.getBalance(this.state.userAddress + standardShardKeys[this.props.index], function(err, res){\r\n        const result = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n        this.setState({userBalance: result})\r\n      }.bind(this));\r\n    }.bind(this));\r\n    this.setState({poolContract: this.props.web3.qkc.contract(ABIinterface).at(this.props.poolAddress)})\r\n    }\r\n  }\r\n\r\n  addStakeTx() { //called when \"Add Stake\" button is clicked\r\n\r\n    const txParams = {\r\n      gasPrice: 2e9,\r\n      gas: 350000,\r\n      to: QuarkChain.getEthAddressFromQkcAddress(this.props.poolAddress),\r\n      value: this.state.add*1e18,\r\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n      networkId: 1\r\n  }\r\n  this.props.web3.qkc.sendTransaction(txParams, function(err,res) {\r\n    if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\") {\r\n      toast.success(({ closeToast }) => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">transaction</a> was sent successfully</div>) \r\n    } else {\r\n      toast.warn(\"Seems that your transaction has been declined\")\r\n    }\r\n    });\r\n       \r\n  }\r\n\r\n\r\n\r\n  withdrawStake() { //called when \"Withdraw\" button is clicked\r\n\r\n    const txParams = {\r\n      gasPrice: 2e9,\r\n      gas: 350000,\r\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress)\r\n    }\r\n    \r\n    this.state.poolContract.withdrawStakes(this.state.withdraw, txParams).then(function(err, res) {\r\n      if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\") {\r\n        toast.success(({ closeToast }) => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">withdrawal</a> was sent successfully</div>) \r\n      } else {\r\n        toast.warn(\"Seems that your transaction has been declined\")\r\n      }\r\n    });\r\n  }\r\n\r\n  handleAddChange(event) {\r\n    this.setState({add: event.target.value});\r\n  }\r\n  handleWithdrawChange(event) {\r\n    this.setState({withdraw: event.target.value});\r\n  }\r\n  \r\n  render() {\r\n    if(window.ethereum) {\r\n      return (\r\n        <tbody>\r\n            <tr className=\"rowcolour1\">\r\n              <td>Your Chain {this.props.index} Balance</td>\r\n              <td colSpan=\"2\">{this.state.userBalance}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour2\">\r\n              <td>Deposit</td>\r\n              <td>\r\n                <input className=\"inp\" type=\"number\" min=\"0\" placeholder=\"e.g. 50000\" value={this.state.add} onChange={e => this.handleAddChange(e)} />\r\n              </td>\r\n              <td>\r\n                <button className=\"but\" onClick={this.addStakeTx.bind(this)}>Deposit</button>\r\n              </td>\r\n            </tr>\r\n            <tr className=\"rowcolour1\">\r\n              <td>Withdraw</td>\r\n              <td>\r\n                <input className=\"inp\" type=\"number\" min=\"0\" placeholder=\"e.g. 50000\" value={this.state.withdraw} onChange={e => this.handleWithdrawChange(e)} />\r\n              </td>\r\n              <td>\r\n                <button className=\"but\" onClick={this.withdrawStake.bind(this)}>Withdraw</button>\r\n              </td>\r\n            </tr>\r\n        </tbody>\r\n      )\r\n    } else {\r\n      return (\r\n        <table>\r\n          <tfoot>\r\n            Please make sure that you have a web3 wallet installed in your browser\r\n          </tfoot>\r\n        </table>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport {PoolInterface, Navbar};"]},"metadata":{},"sourceType":"module"}