{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nico\\\\Documents\\\\GitHub\\\\stakingpoolsreact\\\\client\\\\src\\\\components\\\\minerInterface.js\";\nimport Web3 from 'web3';\nimport QuarkChain from 'quarkchain-web3';\nimport React from 'react';\nimport axios from 'axios';\nimport { ABIinterface, roiABIinterface, jrpcUrl, blockAllowance, admin } from './config.js';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { PoolUserInterface, PoolAllocateAndWithdraw } from './userInterface';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet web3 = new Web3();\nQuarkChain.injectWeb3(web3, jrpcUrl);\nexport default class MinerInterface extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      balance: '',\n      roi: '',\n      minStake: '',\n      poolStatus: '',\n      minerFee: '',\n      poolFee: '',\n      snapshotdate: ''\n    };\n  }\n\n  componentDidMount(props) {\n    this.getContractInformation();\n  }\n\n  getContractInformation() {\n    const roiContract = web3.qkc.contract(roiABIinterface).at(this.props.poolROIAddress);\n    const poolContract = web3.qkc.contract(ABIinterface).at(this.props.poolAddress);\n    let minerFee;\n    let poolFee;\n    let v1;\n    let v2;\n    let v3;\n    let v4;\n    let v5;\n    let v6;\n    let v7;\n    web3.qkc.getBalance(this.props.poolAddress, function (err, res) {\n      v1 = Number((res / 10 ** 18).toFixed(2)).toLocaleString() + \" QKC\";\n      this.setState({\n        balance: v1\n      });\n    }.bind(this));\n    poolContract.minerFee.call(function (err, res) {\n      minerFee = res / 10000;\n      v2 = res / 100 + \"%\";\n      this.setState({\n        minerFee: v2\n      });\n    }.bind(this));\n    poolContract.poolFee.call(function (err, res) {\n      poolFee = res / 10000;\n      v3 = res / 100 + \"%\";\n      this.setState({\n        poolFee: v3\n      });\n    }.bind(this));\n    poolContract.minStake.call(function (err, res) {\n      v4 = Number((res / 10 ** 18).toFixed(2)).toLocaleString() + \" QKC\";\n      this.setState({\n        minStake: v4\n      });\n    }.bind(this));\n    poolContract.isClosed.call(function (err, res) {\n      if (res == false) {\n        v5 = \"Open\";\n      }\n\n      if (res == true) {\n        v5 = \"Closed\";\n      }\n\n      this.setState({\n        poolStatus: v5\n      });\n    }.bind(this));\n    axios.post(\"http://localhost:3001/api/getSnapshot\", {\n      chainId: this.props.index\n    }).then(response => {\n      const data = response.data;\n      web3.qkc.getBalance(this.props.poolAddress, function (err, res) {\n        const result = ((res - Number(data.balance)) / ((Number(data.balance) / blockAllowance[this.props.index]).toFixed(0) * blockAllowance[this.props.index]) / (Date.now() - Number(data.timestamp)) * (1000 * 3600 * 24 * 30) * (1 - (minerFee + poolFee)) * 100).toFixed(3);\n        v6 = result + \"% / \" + (result * 12).toFixed(1) + \"%\";\n        this.setState({\n          roi: v6\n        });\n        axios.post(\"http://localhost:3001/api/newROI\", {\n          chainId: this.props.index,\n          roi: result\n        });\n      }.bind(this));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"pool\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour1\",\n          href: \"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress,\n          children: /*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: \"3\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress,\n              target: \"_blank\",\n              className: \"href\",\n              children: [this.props.minerName, \"'s Chain \", this.props.index, \" Pool\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Estimated ROI monthly/annual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.roi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour1\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Total Stakes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.balance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Minimum Stake\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.minStake\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour1\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Pool Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.poolStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Miner Fee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.minerFee\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour1\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Pool Fee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.poolFee\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Last Snapshot Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"2\",\n            children: this.state.snapshotdate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MinerChangeInterface, {\n        poolAddress: this.props.poolAddress,\n        minerName: this.props.minerName,\n        web3: this.props.web3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass MinerChangeInterface extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      minStake: '',\n      minerFee: '',\n      poolFee: '',\n      poolContract: '',\n      userAddress: ''\n    };\n  }\n\n  componentDidMount(props) {\n    this.setState({\n      poolContract: this.props.web3.qkc.contract(ABIinterface).at(this.props.poolAddress)\n    });\n    this.props.web3.eth.getAccounts().then(function (accounts) {\n      this.setState({\n        userAddress: accounts[0]\n      });\n    }.bind(this));\n  }\n\n  handleMinStakeChange(event) {\n    this.setState({\n      minStake: event.target.value\n    });\n  }\n\n  handleMinerFeeChange(event) {\n    this.setState({\n      minerFee: event.target.value\n    });\n  }\n\n  handlePoolFeeChange(event) {\n    this.setState({\n      poolFee: event.target.value\n    });\n  }\n\n  adjustMinStake() {\n    //called when \"Withdraw\" button is clicked\n    const txParams = {\n      gasPrice: 2e9,\n      gas: 350000,\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      networkId: 1\n    };\n    this.state.poolContract.adjustMinStake(this.state.minStake * 1e18, txParams, function (err, res) {\n      console.log(res);\n\n      if (res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\n        toast.success(({\n          closeToast\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://mainnet.quarkchain.io/tx/${res}`,\n            target: \"_blank\",\n            children: \"min stake adjustment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 57\n          }, this), \" was sent successfully\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 47\n        }, this));\n      } else {\n        toast.warn(\"Seems that your transaction has been declined\");\n      }\n    });\n  }\n\n  adjustMinerFee() {\n    //called when \"Withdraw\" button is clicked\n    const txParams = {\n      gasPrice: 2e9,\n      gas: 350000,\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      networkId: 1\n    };\n    this.state.poolContract.adjustMinerFee((this.state.minerFee * 100).toFixed(2), txParams, function (err, res) {\n      if (res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\n        toast.success(({\n          closeToast\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://mainnet.quarkchain.io/tx/${res}`,\n            target: \"_blank\",\n            children: \"miner fee adjustment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 57\n          }, this), \" was sent successfully\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 47\n        }, this));\n      } else {\n        toast.warn(\"Seems that your transaction has been declined\");\n      }\n    });\n  }\n\n  adjustPoolFee() {\n    //called when \"Withdraw\" button is clicked\n    const txParams = {\n      gasPrice: 2e9,\n      gas: 350000,\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      networkId: 1\n    };\n    this.state.poolContract.adjustPoolFee(this.state.poolFee.toFixed(2) * 100, txParams, function (err, res) {\n      if (res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\n        toast.success(({\n          closeToast\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://mainnet.quarkchain.io/tx/${res}`,\n            target: \"_blank\",\n            children: \"pool fee adjustment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 57\n          }, this), \" was sent successfully\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 47\n        }, this));\n      } else {\n        toast.warn(\"Seems that your transaction has been declined\");\n      }\n    });\n  }\n\n  changePoolStatus(status) {\n    //called when \"Withdraw\" button is clicked\n    const txParams = {\n      gasPrice: 2e9,\n      gas: 350000,\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      networkId: 1\n    };\n    this.state.poolContract.adjustPoolFee(status, txParams, function (err, res) {\n      if (res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\n        toast.success(({\n          closeToast\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://mainnet.quarkchain.io/tx/${res}`,\n            target: \"_blank\",\n            children: \"pool fee adjustment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 57\n          }, this), \" was sent successfully\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 47\n        }, this));\n      } else {\n        toast.warn(\"Seems that your transaction has been declined\");\n      }\n    });\n  }\n\n  flushContract() {\n    //called when \"Withdraw\" button is clicked\n    const txParams = {\n      gasPrice: 2e9,\n      gas: 6000000,\n      fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\n      networkId: 1\n    };\n    this.state.poolContract.flushContract(txParams, function (err, res) {\n      if (res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\n        toast.success(() => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Your \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://mainnet.quarkchain.io/tx/${res}`,\n            target: \"_blank\",\n            children: \"pool fee adjustment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 43\n          }, this), \" was sent successfully\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 33\n        }, this));\n      } else {\n        toast.warn(\"Seems that your transaction has been declined\");\n      }\n    });\n  }\n\n  takeSnaphot() {\n    this.props.web3.qkc.getBalance(this.props.poolAddress, function (err, res) {\n      axios.post(\"http://localhost:3001/api/newSnapshot\", {\n        chainId: this.props.index,\n        balance: res\n      }).then(function (err, res) {\n        toast.success(() => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"New snapshot successfully queried to database\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 37\n        }, this));\n      }.bind(this));\n    }.bind(this));\n  }\n\n  render() {\n    if (this.state.userAddress == admin[0] || this.state.userAddress == admin[1] || this.state.userAddress == admin[2]) {\n      return /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: this.takeSnaphot.bind(this),\n              children: \"Take New Snapshot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour1\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"Adjust Miner Fee (\", this.props.minerName, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"inp\",\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              placeholder: \"% value up to 2 decimals\",\n              value: this.state.minerFee,\n              onChange: e => this.handleMinerFeeChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: this.adjustMinerFee.bind(this),\n              children: \"Change\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Adjust Minimum Stake (Nico)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"inp\",\n              type: \"number\",\n              min: \"0\",\n              placeholder: \"minStake in QKC\",\n              value: this.state.minStake,\n              onChange: e => this.handleMinStakeChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: this.adjustMinStake.bind(this),\n              children: \"Change\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Adjust Pool Fee(Nico)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"inp\",\n              type: \"number\",\n              min: \"0\",\n              max: \"100\",\n              placeholder: \"% value up to 2 decimals\",\n              value: this.state.poolFee,\n              onChange: e => this.handlePoolFeeChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: this.adjustPoolFee.bind(this),\n              children: \"Change\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour1\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Open/Close Pool Allocations (Nico)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: () => this.changePoolStatus(false),\n              children: \"Open\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: () => this.changePoolStatus(true),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"rowcolour2\",\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"but\",\n              onClick: this.flushContract.bind(this),\n              children: \"Flush Contract(Nico)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Please connect your wallet with a valid admin account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Nico/Documents/GitHub/stakingpoolsreact/client/src/components/minerInterface.js"],"names":["Web3","QuarkChain","React","axios","ABIinterface","roiABIinterface","jrpcUrl","blockAllowance","admin","ToastContainer","toast","PoolUserInterface","PoolAllocateAndWithdraw","web3","injectWeb3","MinerInterface","Component","state","balance","roi","minStake","poolStatus","minerFee","poolFee","snapshotdate","componentDidMount","props","getContractInformation","roiContract","qkc","contract","at","poolROIAddress","poolContract","poolAddress","v1","v2","v3","v4","v5","v6","v7","getBalance","err","res","Number","toFixed","toLocaleString","setState","bind","call","isClosed","post","chainId","index","then","response","data","result","Date","now","timestamp","render","minerName","MinerChangeInterface","userAddress","eth","getAccounts","accounts","handleMinStakeChange","event","target","value","handleMinerFeeChange","handlePoolFeeChange","adjustMinStake","txParams","gasPrice","gas","fromFullShardKey","getFullShardKeyFromQkcAddress","toFullShardKey","networkId","console","log","undefined","success","closeToast","warn","adjustMinerFee","adjustPoolFee","changePoolStatus","status","flushContract","takeSnaphot","e"],"mappings":"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","sourcesContent":["import Web3 from 'web3';\r\nimport QuarkChain from 'quarkchain-web3';\r\nimport React from 'react';\r\nimport axios from 'axios';\r\nimport {ABIinterface, roiABIinterface, jrpcUrl, blockAllowance, admin} from './config.js';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport {PoolUserInterface, PoolAllocateAndWithdraw} from './userInterface';\r\n\r\nlet web3 = new Web3();\r\nQuarkChain.injectWeb3(web3, jrpcUrl)\r\n\r\nexport default class MinerInterface extends React.Component {\r\n    //minerName, web3, poolAddress, poolROIAddress, index\r\n\r\n    state = {\r\n        balance: '',\r\n        roi: '',\r\n        minStake: '',\r\n        poolStatus: '',\r\n        minerFee: '',\r\n        poolFee: '',\r\n        snapshotdate: ''\r\n    }\r\n    componentDidMount(props) {\r\n        this.getContractInformation();\r\n    }\r\n        \r\n    getContractInformation() {\r\n        const roiContract = web3.qkc.contract(roiABIinterface).at(this.props.poolROIAddress);\r\n        const poolContract = web3.qkc.contract(ABIinterface).at(this.props.poolAddress);\r\n        let minerFee;\r\n        let poolFee;\r\n      \r\n        let v1;\r\n        let v2;\r\n        let v3;\r\n        let v4;\r\n        let v5;\r\n        let v6;\r\n        let v7;\r\n      \r\n        web3.qkc.getBalance(this.props.poolAddress, function(err, res) {\r\n          v1 = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n          this.setState({balance: v1})\r\n        }.bind(this));\r\n      \r\n        poolContract.minerFee.call(function(err, res){\r\n          minerFee = res/10000\r\n          v2 = res/100+\"%\";\r\n          this.setState({minerFee: v2})\r\n        }.bind(this));\r\n        poolContract.poolFee.call(function(err, res){\r\n          poolFee = res/10000\r\n          v3 = res/100+\"%\";\r\n          this.setState({poolFee: v3})\r\n        }.bind(this));\r\n    \r\n        poolContract.minStake.call(function(err, res){\r\n          v4 = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n          this.setState({minStake: v4})\r\n        }.bind(this));\r\n      \r\n        poolContract.isClosed.call(function(err, res){\r\n            if(res == false){\r\n              v5 = \"Open\";\r\n            }\r\n            if(res == true){  \r\n              v5 = \"Closed\";\r\n            }\r\n            this.setState({poolStatus: v5})\r\n        }.bind(this));\r\n      \r\n        axios.post(\"http://localhost:3001/api/getSnapshot\", {chainId: this.props.index}).then((response) => {\r\n            const data = response.data;\r\n            \r\n            web3.qkc.getBalance(this.props.poolAddress, function(err, res) {\r\n                const result = ((((res-Number(data.balance))/((Number(data.balance)/blockAllowance[this.props.index]).toFixed(0)*blockAllowance[this.props.index]))/((Date.now()-Number(data.timestamp))))*(1000*3600*24*30)*(1-(minerFee+poolFee))*100).toFixed(3);\r\n                v6 = result + \"% / \" + (result*12).toFixed(1) + \"%\";\r\n                this.setState({roi: v6});\r\n\r\n                axios.post(\"http://localhost:3001/api/newROI\", {chainId: this.props.index, roi: result})\r\n            }.bind(this));\r\n        });\r\n      }\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <table className=\"pool\">\r\n                <thead>\r\n                <tr className=\"rowcolour1\" href={\"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress}>\r\n                        <th colSpan=\"3\">\r\n                        <a href={\"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress} target=\"_blank\" className=\"href\">{this.props.minerName}'s Chain {this.props.index} Pool</a>\r\n                        </th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td>Estimated ROI monthly/annual</td>\r\n                        <td colSpan=\"2\">{this.state.roi}</td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour1\">\r\n                        <td>Total Stakes</td>\r\n                        <td colSpan=\"2\">{this.state.balance}</td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td>Minimum Stake</td>\r\n                        <td colSpan=\"2\">{this.state.minStake}</td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour1\">\r\n                        <td>Pool Status</td>\r\n                        <td colSpan=\"2\">{this.state.poolStatus}</td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td>Miner Fee</td>\r\n                        <td colSpan=\"2\">{this.state.minerFee}</td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour1\">\r\n                        <td>Pool Fee</td>\r\n                        <td colSpan=\"2\">{this.state.poolFee}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Last Snapshot Date</td>\r\n                        <td colSpan=\"2\">{this.state.snapshotdate}</td>\r\n                    </tr>\r\n                </tbody>\r\n                <MinerChangeInterface poolAddress={this.props.poolAddress} minerName={this.props.minerName} web3={this.props.web3}/>\r\n            </table>\r\n        )\r\n    }\r\n}\r\n\r\nclass MinerChangeInterface extends React.Component {\r\n    state= {\r\n        minStake: '',\r\n        minerFee: '',\r\n        poolFee: '',\r\n        poolContract: '',\r\n        userAddress: ''\r\n    }\r\n\r\n    componentDidMount(props) {\r\n        this.setState({poolContract: this.props.web3.qkc.contract(ABIinterface).at(this.props.poolAddress)})\r\n\r\n        this.props.web3.eth.getAccounts().then(function(accounts) {\r\n            this.setState({userAddress: accounts[0]})\r\n        }.bind(this))\r\n    }\r\n\r\n    handleMinStakeChange(event) {\r\n        this.setState({minStake: event.target.value});\r\n    }\r\n\r\n    handleMinerFeeChange(event) {\r\n        this.setState({minerFee: event.target.value});\r\n    }\r\n\r\n    handlePoolFeeChange(event) {\r\n        this.setState({poolFee: event.target.value});\r\n    }\r\n\r\n    adjustMinStake() { //called when \"Withdraw\" button is clicked\r\n  \r\n        const txParams = {\r\n          gasPrice: 2e9,\r\n          gas: 350000,\r\n          fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n          toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n          networkId: 1\r\n        }\r\n        \r\n        this.state.poolContract.adjustMinStake((this.state.minStake*1e18), txParams, function(err, res) {\r\n            console.log(res)\r\n          if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\r\n            toast.success(({ closeToast }) => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">min stake adjustment</a> was sent successfully</div>) \r\n          } else {\r\n            toast.warn(\"Seems that your transaction has been declined\")\r\n          }\r\n        });\r\n      }\r\n\r\n    adjustMinerFee() { //called when \"Withdraw\" button is clicked\r\n\r\n        const txParams = {\r\n            gasPrice: 2e9,\r\n            gas: 350000,\r\n            fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            networkId: 1\r\n        }\r\n        \r\n        this.state.poolContract.adjustMinerFee((this.state.minerFee*100).toFixed(2), txParams, function(err, res) {\r\n            if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\r\n            toast.success(({ closeToast }) => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">miner fee adjustment</a> was sent successfully</div>) \r\n            } else {\r\n            toast.warn(\"Seems that your transaction has been declined\")\r\n            }\r\n        });\r\n    }\r\n\r\n    adjustPoolFee() { //called when \"Withdraw\" button is clicked\r\n\r\n        const txParams = {\r\n            gasPrice: 2e9,\r\n            gas: 350000,\r\n            fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            networkId: 1\r\n        }\r\n        \r\n        this.state.poolContract.adjustPoolFee((this.state.poolFee).toFixed(2)*100, txParams, function(err, res) {\r\n            if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\r\n            toast.success(({ closeToast }) => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">pool fee adjustment</a> was sent successfully</div>) \r\n            } else {\r\n            toast.warn(\"Seems that your transaction has been declined\")\r\n            }\r\n        });\r\n    }\r\n\r\n    changePoolStatus(status) { //called when \"Withdraw\" button is clicked\r\n\r\n        const txParams = {\r\n            gasPrice: 2e9,\r\n            gas: 350000,\r\n            fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            networkId: 1\r\n        }\r\n        \r\n        this.state.poolContract.adjustPoolFee(status, txParams, function(err, res) {\r\n            if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\r\n            toast.success(({ closeToast }) => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">pool fee adjustment</a> was sent successfully</div>) \r\n            } else {\r\n            toast.warn(\"Seems that your transaction has been declined\")\r\n            }\r\n        });\r\n    }\r\n\r\n    flushContract() { //called when \"Withdraw\" button is clicked\r\n\r\n        const txParams = {\r\n            gasPrice: 2e9,\r\n            gas: 6000000,\r\n            fromFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            toFullShardKey: QuarkChain.getFullShardKeyFromQkcAddress(this.props.poolAddress),\r\n            networkId: 1\r\n        }\r\n        \r\n        this.state.poolContract.flushContract(txParams, function(err, res) {\r\n            if(res != \"0x000000000000000000000000000000000000000000000000000000000000000000000000\" && res != undefined && res != null) {\r\n            toast.success(() => <div>Your <a href={`https://mainnet.quarkchain.io/tx/${res}`} target=\"_blank\">pool fee adjustment</a> was sent successfully</div>) \r\n            } else {\r\n            toast.warn(\"Seems that your transaction has been declined\")\r\n            }\r\n        });\r\n    }\r\n\r\n    takeSnaphot() {\r\n        this.props.web3.qkc.getBalance(this.props.poolAddress, function(err, res) {\r\n            axios.post(\"http://localhost:3001/api/newSnapshot\", {chainId: this.props.index, balance: res}).then(function(err,res){\r\n                toast.success(() => <div>New snapshot successfully queried to database</div>)\r\n            }.bind(this));\r\n        }.bind(this))\r\n    }\r\n\r\n    render() {\r\n        if(this.state.userAddress == admin[0] || this.state.userAddress == admin[1] || this.state.userAddress == admin[2]){\r\n            return(\r\n                <tbody>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td colSpan=\"3\">\r\n                            <button className=\"but\" onClick={this.takeSnaphot.bind(this)}>Take New Snapshot</button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour1\">\r\n                        <td>Adjust Miner Fee ({this.props.minerName})</td>\r\n                        <td>\r\n                            <input className=\"inp\" type=\"number\" min=\"0\" max= \"100\" placeholder=\"% value up to 2 decimals\" value={this.state.minerFee} onChange={e => this.handleMinerFeeChange(e)} />\r\n                        </td>\r\n                        <td>\r\n                            <button className=\"but\" onClick={this.adjustMinerFee.bind(this)}>Change</button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td>Adjust Minimum Stake (Nico)</td>\r\n                        <td>\r\n                            <input className=\"inp\" type=\"number\" min=\"0\" placeholder=\"minStake in QKC\" value={this.state.minStake} onChange={e => this.handleMinStakeChange(e)} />\r\n                        </td>\r\n                        <td>\r\n                            <button className=\"but\" onClick={this.adjustMinStake.bind(this)}>Change</button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td>Adjust Pool Fee(Nico)</td>\r\n                        <td>\r\n                            <input className=\"inp\" type=\"number\" min=\"0\" max= \"100\" placeholder=\"% value up to 2 decimals\" value={this.state.poolFee} onChange={e => this.handlePoolFeeChange(e)} />\r\n                        </td>\r\n                        <td>\r\n                            <button className=\"but\" onClick={this.adjustPoolFee.bind(this)}>Change</button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour1\">\r\n                        <td>Open/Close Pool Allocations (Nico)</td>\r\n                        <td>\r\n                            <button className=\"but\" onClick={() => this.changePoolStatus(false)}>Open</button>\r\n                        </td>\r\n                        <td>\r\n                            <button className=\"but\" onClick={() => this.changePoolStatus(true)}>Close</button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr className=\"rowcolour2\">\r\n                        <td colSpan=\"3\">\r\n                            <button className=\"but\" onClick={this.flushContract.bind(this)}>Flush Contract(Nico)</button>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n        )\r\n        } else {\r\n            return(\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Please connect your wallet with a valid admin account</td>\r\n                    </tr>\r\n                </tbody>\r\n            )\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}