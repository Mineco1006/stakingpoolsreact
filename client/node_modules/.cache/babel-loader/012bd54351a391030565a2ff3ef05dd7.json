{"ast":null,"code":"import _classCallCheck from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Nico/Documents/GitHub/stakingpoolsreact/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import Web3 from'web3';import QuarkChain from'quarkchain-web3';import React from'react';import{ABIinterface,roiABIinterface,jrpcUrl,blockAllowance}from'./config.js';import{PoolUserInterface,PoolAllocateAndWithdraw}from'./userInterface';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var web3=new Web3();QuarkChain.injectWeb3(web3,jrpcUrl);var Navbar=/*#__PURE__*/function(_React$Component){_inherits(Navbar,_React$Component);var _super=_createSuper(Navbar);function Navbar(){_classCallCheck(this,Navbar);return _super.apply(this,arguments);}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){document.title=\"QKC Staking Pools\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark\",style:{marginBottom:'25px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"https://qkcstakingpools.xyz/\",children:\"QuarkChain Staking Pools\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Stats\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/roicalc\",children:\"ROI Calculator\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"https://t.me/joinchat/ar58V6PuG5tkM2Y0\",target:\"_blank\",rel:\"noreferrer\",children:\"Telegram\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"https://plakolm1006.medium.com/\",target:\"_blank\",rel:\"noreferrer\",children:\"News\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"https://twitter.com/Quark_Chain\",target:\"_blank\",rel:\"noreferrer\",children:\"Twitter\"})})]})})]})});}}]);return Navbar;}(React.Component);var PoolInterface=/*#__PURE__*/function(_React$Component2){_inherits(PoolInterface,_React$Component2);var _super2=_createSuper(PoolInterface);function PoolInterface(){var _this;_classCallCheck(this,PoolInterface);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super2.call.apply(_super2,[this].concat(args));_this.state={balance:'',balanceNum:'',roi:'',minStake:'',poolStatus:''};return _this;}_createClass(PoolInterface,[{key:\"getContractInformation\",value:function getContractInformation(){var _this2=this;var roiContract=web3.qkc.contract(roiABIinterface).at(this.props.poolROIAddress);var poolContract=web3.qkc.contract(ABIinterface).at(this.props.poolAddress);var minerFee;var poolFee;var v1;var v2;var v3;var v4;var v5;var v6;var v7;web3.qkc.getBalance(this.props.poolAddress,function(err,res){v1=Number((res/Math.pow(10,18)).toFixed(2)).toLocaleString()+\" QKC\";v7=res;this.setState({balance:v1});}.bind(this));poolContract.minerFee.call(function(err,res){minerFee=res/10000;v2=res/100+\"%\";});poolContract.poolFee.call(function(err,res){poolFee=res/10000;v3=res/100+\"%\";});poolContract.minStake.call(function(err,res){v4=Number((res/Math.pow(10,18)).toFixed(2)).toLocaleString()+\" QKC\";this.setState({minStake:v4});}.bind(this));poolContract.isClosed.call(function(err,res){if(res==false){v5=\"Open\";}if(res==true){v5=\"Closed\";}this.setState({poolStatus:v5});}.bind(this));axios.post(\"http://qkcstakingpools.xyz:3001/api/getSnapshot\",{chainId:this.props.index}).then(function(response){var data=response.data;web3.qkc.getBalance(_this2.props.poolAddress,function(err,res){var result=((res-Number(data.balance))/((Number(data.balance)/blockAllowance[this.props.index]).toFixed(0)*blockAllowance[this.props.index])/(Date.now()-Number(data.timestamp))*(1000*3600*24*30)*(1-(minerFee+poolFee))*100).toFixed(3);v6=result+\"% / \"+(result*12).toFixed(1)+\"%\";this.setState({roi:v6});axios.post(\"http://qkcstakingpools.xyz:3001/api/newROI\",{chainId:this.props.index,roi:result});}.bind(_this2));});}},{key:\"componentDidMount\",value:function componentDidMount(props){this.getContractInformation();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"table\",{className:\"pool\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{className:\"rowcolour1\",href:\"https://mainnet.quarkchain.io/address/\"+this.props.poolAddress,children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"3\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"https://mainnet.quarkchain.io/address/\"+this.props.poolAddress,target:\"_blank\",className:\"href\",children:[\"Chain \",this.props.index,\" Pool\"]})})})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Estimated ROI monthly/annual\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.roi})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Total Stakes\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.balance})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Minimum Stake\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.minStake})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour1\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Pool Status\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.state.poolStatus})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"rowcolour2\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"Miner\"}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:this.props.miner})]})]}),/*#__PURE__*/_jsx(PoolUserInterface,{poolAddress:this.props.poolAddress,web3:this.props.web3,index:this.props.index}),/*#__PURE__*/_jsx(PoolAllocateAndWithdraw,{poolAddress:this.props.poolAddress,web3:this.props.web3,index:this.props.index})]});}}]);return PoolInterface;}(React.Component);export{PoolInterface,Navbar};","map":{"version":3,"sources":["C:/Users/Nico/Documents/GitHub/stakingpoolsreact/client/src/components/poolInterface.js"],"names":["Web3","QuarkChain","React","ABIinterface","roiABIinterface","jrpcUrl","blockAllowance","PoolUserInterface","PoolAllocateAndWithdraw","Link","axios","web3","injectWeb3","Navbar","document","title","marginBottom","Component","PoolInterface","state","balance","balanceNum","roi","minStake","poolStatus","roiContract","qkc","contract","at","props","poolROIAddress","poolContract","poolAddress","minerFee","poolFee","v1","v2","v3","v4","v5","v6","v7","getBalance","err","res","Number","toFixed","toLocaleString","setState","bind","call","isClosed","post","chainId","index","then","response","data","result","Date","now","timestamp","getContractInformation","miner"],"mappings":"wqBAAA,MAAOA,CAAAA,IAAP,KAAiB,MAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,YAAR,CAAsBC,eAAtB,CAAuCC,OAAvC,CAAgDC,cAAhD,KAAqE,aAArE,CACA,OAAQC,iBAAR,CAA2BC,uBAA3B,KAAyD,iBAAzD,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAIC,CAAAA,IAAI,CAAG,GAAIX,CAAAA,IAAJ,EAAX,CACAC,UAAU,CAACW,UAAX,CAAsBD,IAAtB,CAA4BN,OAA5B,E,GAEMQ,CAAAA,M,oPACJ,4BAAoB,CAClBC,QAAQ,CAACC,KAAT,CAAiB,mBAAjB,CACD,C,sBAED,iBAAS,CACP,mBACE,YAAK,SAAS,CAAC,6CAAf,CAA6D,KAAK,CAAE,CAACC,YAAY,CAAC,MAAd,CAApE,uBACI,aAAK,SAAS,CAAC,iBAAf,wBAEE,UAAG,SAAS,CAAC,cAAb,CAA4B,IAAI,CAAC,8BAAjC,sCAFF,cAGE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,IAAI,CAAC,QAAxC,CAAiD,iBAAe,UAAhE,CAA2E,iBAAe,YAA1F,CAAuG,gBAAc,WAArH,CAAiI,gBAAc,OAA/I,CAAuJ,aAAW,mBAAlK,uBACE,aAAM,SAAS,CAAC,qBAAhB,EADF,EAHF,cAOE,YAAK,SAAS,CAAC,0BAAf,CAA0C,EAAE,CAAC,WAA7C,uBACE,YAAI,SAAS,CAAC,YAAd,wBACE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CAA2B,EAAE,CAAC,GAA9B,mBADF,EADF,cAIE,WAAI,SAAS,CAAC,UAAd,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CAA2B,EAAE,CAAC,UAA9B,4BADF,EAJF,cAOE,WAAI,SAAS,CAAC,UAAd,uBACE,UAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,wCAA7B,CAAsE,MAAM,CAAC,QAA7E,CAAsF,GAAG,CAAC,YAA1F,sBADF,EAPF,cAUE,WAAI,SAAS,CAAC,UAAd,uBACE,UAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,iCAA7B,CAA+D,MAAM,CAAC,QAAtE,CAA+E,GAAG,CAAC,YAAnF,kBADF,EAVF,cAaE,WAAI,SAAS,CAAC,UAAd,uBACE,UAAG,SAAS,CAAC,UAAb,CAAwB,IAAI,CAAC,iCAA7B,CAA+D,MAAM,CAAC,QAAtE,CAA+E,GAAG,CAAC,YAAnF,qBADF,EAbF,GADF,EAPF,GADJ,EADF,CA+BD,C,oBArCkBd,KAAK,CAACe,S,KAwCrBC,CAAAA,a,wWAGJC,K,CAAQ,CACNC,OAAO,CAAG,EADJ,CAENC,UAAU,CAAE,EAFN,CAGNC,GAAG,CAAG,EAHA,CAINC,QAAQ,CAAG,EAJL,CAKNC,UAAU,CAAG,EALP,C,+EAQR,iCAAyB,iBACvB,GAAMC,CAAAA,WAAW,CAAGd,IAAI,CAACe,GAAL,CAASC,QAAT,CAAkBvB,eAAlB,EAAmCwB,EAAnC,CAAsC,KAAKC,KAAL,CAAWC,cAAjD,CAApB,CACA,GAAMC,CAAAA,YAAY,CAAGpB,IAAI,CAACe,GAAL,CAASC,QAAT,CAAkBxB,YAAlB,EAAgCyB,EAAhC,CAAmC,KAAKC,KAAL,CAAWG,WAA9C,CAArB,CACA,GAAIC,CAAAA,QAAJ,CACA,GAAIC,CAAAA,OAAJ,CAEA,GAAIC,CAAAA,EAAJ,CACA,GAAIC,CAAAA,EAAJ,CACA,GAAIC,CAAAA,EAAJ,CACA,GAAIC,CAAAA,EAAJ,CACA,GAAIC,CAAAA,EAAJ,CACA,GAAIC,CAAAA,EAAJ,CACA,GAAIC,CAAAA,EAAJ,CAEA9B,IAAI,CAACe,GAAL,CAASgB,UAAT,CAAoB,KAAKb,KAAL,CAAWG,WAA/B,CAA4C,SAASW,GAAT,CAAcC,GAAd,CAAmB,CAC7DT,EAAE,CAAGU,MAAM,CAAC,CAACD,GAAG,UAAC,EAAD,CAAK,EAAL,CAAJ,EAAaE,OAAb,CAAqB,CAArB,CAAD,CAAN,CAAgCC,cAAhC,GAAmD,MAAxD,CACAN,EAAE,CAAGG,GAAL,CACA,KAAKI,QAAL,CAAc,CAAC5B,OAAO,CAAEe,EAAV,CAAd,EACD,CAJ2C,CAI1Cc,IAJ0C,CAIrC,IAJqC,CAA5C,EAMAlB,YAAY,CAACE,QAAb,CAAsBiB,IAAtB,CAA2B,SAASP,GAAT,CAAcC,GAAd,CAAkB,CAC3CX,QAAQ,CAAGW,GAAG,CAAC,KAAf,CACAR,EAAE,CAAGQ,GAAG,CAAC,GAAJ,CAAQ,GAAb,CACD,CAHD,EAIAb,YAAY,CAACG,OAAb,CAAqBgB,IAArB,CAA0B,SAASP,GAAT,CAAcC,GAAd,CAAkB,CAC1CV,OAAO,CAAGU,GAAG,CAAC,KAAd,CACAP,EAAE,CAAGO,GAAG,CAAC,GAAJ,CAAQ,GAAb,CACD,CAHD,EAKAb,YAAY,CAACR,QAAb,CAAsB2B,IAAtB,CAA2B,SAASP,GAAT,CAAcC,GAAd,CAAkB,CAC3CN,EAAE,CAAGO,MAAM,CAAC,CAACD,GAAG,UAAC,EAAD,CAAK,EAAL,CAAJ,EAAaE,OAAb,CAAqB,CAArB,CAAD,CAAN,CAAgCC,cAAhC,GAAmD,MAAxD,CACA,KAAKC,QAAL,CAAc,CAACzB,QAAQ,CAAEe,EAAX,CAAd,EACD,CAH0B,CAGzBW,IAHyB,CAGpB,IAHoB,CAA3B,EAKAlB,YAAY,CAACoB,QAAb,CAAsBD,IAAtB,CAA2B,SAASP,GAAT,CAAcC,GAAd,CAAkB,CACzC,GAAGA,GAAG,EAAI,KAAV,CAAgB,CACdL,EAAE,CAAG,MAAL,CACD,CACD,GAAGK,GAAG,EAAI,IAAV,CAAe,CACbL,EAAE,CAAG,QAAL,CACD,CACD,KAAKS,QAAL,CAAc,CAACxB,UAAU,CAAEe,EAAb,CAAd,EACH,CAR0B,CAQzBU,IARyB,CAQpB,IARoB,CAA3B,EAWAvC,KAAK,CAAC0C,IAAN,CAAW,iDAAX,CAA8D,CAACC,OAAO,CAAE,KAAKxB,KAAL,CAAWyB,KAArB,CAA9D,EAA2FC,IAA3F,CAAgG,SAACC,QAAD,CAAc,CAC5G,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAAtB,CAEA9C,IAAI,CAACe,GAAL,CAASgB,UAAT,CAAoB,MAAI,CAACb,KAAL,CAAWG,WAA/B,CAA4C,SAASW,GAAT,CAAcC,GAAd,CAAmB,CAC7D,GAAMc,CAAAA,MAAM,CAAG,CAAG,CAACd,GAAG,CAACC,MAAM,CAACY,IAAI,CAACrC,OAAN,CAAX,GAA4B,CAACyB,MAAM,CAACY,IAAI,CAACrC,OAAN,CAAN,CAAqBd,cAAc,CAAC,KAAKuB,KAAL,CAAWyB,KAAZ,CAApC,EAAwDR,OAAxD,CAAgE,CAAhE,EAAmExC,cAAc,CAAC,KAAKuB,KAAL,CAAWyB,KAAZ,CAA7G,CAAD,EAAqIK,IAAI,CAACC,GAAL,GAAWf,MAAM,CAACY,IAAI,CAACI,SAAN,CAAtJ,CAAD,EAA4K,KAAK,IAAL,CAAU,EAAV,CAAa,EAAzL,GAA8L,GAAG5B,QAAQ,CAACC,OAAZ,CAA9L,EAAoN,GAArN,EAA0NY,OAA1N,CAAkO,CAAlO,CAAf,CACAN,EAAE,CAAGkB,MAAM,CAAG,MAAT,CAAkB,CAACA,MAAM,CAAC,EAAR,EAAYZ,OAAZ,CAAoB,CAApB,CAAlB,CAA2C,GAAhD,CACA,KAAKE,QAAL,CAAc,CAAC1B,GAAG,CAAEkB,EAAN,CAAd,EAEA9B,KAAK,CAAC0C,IAAN,CAAW,4CAAX,CAAyD,CAACC,OAAO,CAAE,KAAKxB,KAAL,CAAWyB,KAArB,CAA4BhC,GAAG,CAAEoC,MAAjC,CAAzD,EACD,CAN2C,CAM1CT,IAN0C,CAMrC,MANqC,CAA5C,EAOD,CAVD,EAWD,C,iCAED,2BAAkBpB,KAAlB,CAAyB,CACvB,KAAKiC,sBAAL,GACD,C,sBAED,iBAAS,CAEP,mBACE,eAAO,SAAS,CAAC,MAAjB,wBACE,oCACE,WAAI,SAAS,CAAC,YAAd,CAA2B,IAAI,CAAE,yCAA2C,KAAKjC,KAAL,CAAWG,WAAvF,uBACM,WAAI,OAAO,CAAC,GAAZ,uBACE,WAAG,IAAI,CAAE,yCAA2C,KAAKH,KAAL,CAAWG,WAA/D,CAA4E,MAAM,CAAC,QAAnF,CAA4F,SAAS,CAAC,MAAtG,oBAAoH,KAAKH,KAAL,CAAWyB,KAA/H,WADF,EADN,EADF,EADF,cAQE,sCACI,YAAI,SAAS,CAAC,YAAd,wBACI,oDADJ,cAEI,WAAI,OAAO,CAAC,GAAZ,UAAiB,KAAKnC,KAAL,CAAWG,GAA5B,EAFJ,GADJ,cAKI,YAAI,SAAS,CAAC,YAAd,wBACI,oCADJ,cAEI,WAAI,OAAO,CAAC,GAAZ,UAAiB,KAAKH,KAAL,CAAWC,OAA5B,EAFJ,GALJ,cASI,YAAI,SAAS,CAAC,YAAd,wBACI,qCADJ,cAEI,WAAI,OAAO,CAAC,GAAZ,UAAiB,KAAKD,KAAL,CAAWI,QAA5B,EAFJ,GATJ,cAaI,YAAI,SAAS,CAAC,YAAd,wBACI,mCADJ,cAEI,WAAI,OAAO,CAAC,GAAZ,UAAiB,KAAKJ,KAAL,CAAWK,UAA5B,EAFJ,GAbJ,cAiBI,YAAI,SAAS,CAAC,YAAd,wBACE,6BADF,cAEE,WAAI,OAAO,CAAC,GAAZ,UAAiB,KAAKK,KAAL,CAAWkC,KAA5B,EAFF,GAjBJ,GARF,cA8BE,KAAC,iBAAD,EAAmB,WAAW,CAAE,KAAKlC,KAAL,CAAWG,WAA3C,CAAwD,IAAI,CAAE,KAAKH,KAAL,CAAWlB,IAAzE,CAA+E,KAAK,CAAE,KAAKkB,KAAL,CAAWyB,KAAjG,EA9BF,cA+BE,KAAC,uBAAD,EAAyB,WAAW,CAAE,KAAKzB,KAAL,CAAWG,WAAjD,CAA8D,IAAI,CAAE,KAAKH,KAAL,CAAWlB,IAA/E,CAAqF,KAAK,CAAE,KAAKkB,KAAL,CAAWyB,KAAvG,EA/BF,GADF,CAoCD,C,2BA/GyBpD,KAAK,CAACe,S,EAkHlC,OAAQC,aAAR,CAAuBL,MAAvB","sourcesContent":["import Web3 from 'web3';\r\nimport QuarkChain from 'quarkchain-web3';\r\nimport React from 'react';\r\nimport {ABIinterface, roiABIinterface, jrpcUrl, blockAllowance} from './config.js'\r\nimport {PoolUserInterface, PoolAllocateAndWithdraw} from './userInterface';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nlet web3 = new Web3();\r\nQuarkChain.injectWeb3(web3, jrpcUrl)\r\n\r\nclass Navbar extends React.Component {\r\n  componentDidMount() {\r\n    document.title = \"QKC Staking Pools\"\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\" style={{marginBottom:'25px'}}>\r\n          <div className=\"container-fluid\">\r\n\r\n            <a className=\"navbar-brand\" href=\"https://qkcstakingpools.xyz/\">QuarkChain Staking Pools</a>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            \r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n              <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/\">Stats</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link className=\"nav-link\" to=\"/roicalc\">ROI Calculator</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"https://t.me/joinchat/ar58V6PuG5tkM2Y0\" target=\"_blank\" rel=\"noreferrer\">Telegram</a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"https://plakolm1006.medium.com/\" target=\"_blank\" rel=\"noreferrer\">News</a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className=\"nav-link\" href=\"https://twitter.com/Quark_Chain\" target=\"_blank\" rel=\"noreferrer\">Twitter</a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n    )\r\n  }\r\n}\r\n\r\nclass PoolInterface extends React.Component {\r\n  // poolAddress, poolROIAddress, index, miner, web3\r\n\r\n  state = {\r\n    balance : '',\r\n    balanceNum: '',\r\n    roi : '',\r\n    minStake : '',\r\n    poolStatus : ''\r\n  }\r\n\r\n  getContractInformation() {\r\n    const roiContract = web3.qkc.contract(roiABIinterface).at(this.props.poolROIAddress);\r\n    const poolContract = web3.qkc.contract(ABIinterface).at(this.props.poolAddress);\r\n    let minerFee;\r\n    let poolFee;\r\n  \r\n    let v1;\r\n    let v2;\r\n    let v3;\r\n    let v4;\r\n    let v5;\r\n    let v6;\r\n    let v7;\r\n  \r\n    web3.qkc.getBalance(this.props.poolAddress, function(err, res) {\r\n      v1 = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n      v7 = res\r\n      this.setState({balance: v1})\r\n    }.bind(this));\r\n  \r\n    poolContract.minerFee.call(function(err, res){\r\n      minerFee = res/10000\r\n      v2 = res/100+\"%\";\r\n    });\r\n    poolContract.poolFee.call(function(err, res){\r\n      poolFee = res/10000\r\n      v3 = res/100+\"%\";\r\n    });\r\n\r\n    poolContract.minStake.call(function(err, res){\r\n      v4 = Number((res/10**18).toFixed(2)).toLocaleString() + \" QKC\";\r\n      this.setState({minStake: v4})\r\n    }.bind(this));\r\n  \r\n    poolContract.isClosed.call(function(err, res){\r\n        if(res == false){\r\n          v5 = \"Open\";\r\n        }\r\n        if(res == true){  \r\n          v5 = \"Closed\";\r\n        }\r\n        this.setState({poolStatus: v5})\r\n    }.bind(this));\r\n\r\n  \r\n    axios.post(\"http://qkcstakingpools.xyz:3001/api/getSnapshot\", {chainId: this.props.index}).then((response) => {\r\n      const data = response.data;\r\n      \r\n      web3.qkc.getBalance(this.props.poolAddress, function(err, res) {\r\n        const result = ((((res-Number(data.balance))/((Number(data.balance)/blockAllowance[this.props.index]).toFixed(0)*blockAllowance[this.props.index]))/((Date.now()-Number(data.timestamp))))*(1000*3600*24*30)*(1-(minerFee+poolFee))*100).toFixed(3);\r\n        v6 = result + \"% / \" + (result*12).toFixed(1) + \"%\";\r\n        this.setState({roi: v6});\r\n\r\n        axios.post(\"http://qkcstakingpools.xyz:3001/api/newROI\", {chainId: this.props.index, roi: result})\r\n      }.bind(this));\r\n    });\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    this.getContractInformation()\r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <table className=\"pool\">\r\n        <thead>\r\n          <tr className=\"rowcolour1\" href={\"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress}>\r\n                <th colSpan=\"3\">\r\n                  <a href={\"https://mainnet.quarkchain.io/address/\" + this.props.poolAddress} target=\"_blank\" className=\"href\">Chain {this.props.index} Pool</a>\r\n                </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr className=\"rowcolour2\">\r\n                <td>Estimated ROI monthly/annual</td>\r\n                <td colSpan=\"2\">{this.state.roi}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour1\">\r\n                <td>Total Stakes</td>\r\n                <td colSpan=\"2\">{this.state.balance}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour2\">\r\n                <td>Minimum Stake</td>\r\n                <td colSpan=\"2\">{this.state.minStake}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour1\">\r\n                <td>Pool Status</td>\r\n                <td colSpan=\"2\">{this.state.poolStatus}</td>\r\n            </tr>\r\n            <tr className=\"rowcolour2\">\r\n              <td>Miner</td>\r\n              <td colSpan=\"2\">{this.props.miner}</td>\r\n            </tr>\r\n        </tbody>\r\n        <PoolUserInterface poolAddress={this.props.poolAddress} web3={this.props.web3} index={this.props.index}/>\r\n        <PoolAllocateAndWithdraw poolAddress={this.props.poolAddress} web3={this.props.web3} index={this.props.index}/>\r\n      </table>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport {PoolInterface, Navbar};"]},"metadata":{},"sourceType":"module"}